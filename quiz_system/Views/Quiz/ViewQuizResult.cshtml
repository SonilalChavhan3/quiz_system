
@model QuizAttempt

<div class="container mt-5">
    <div class="card shadow-lg">
        <div class="card-header bg-primary text-white text-center">
            <h2>Quiz Result - @Model.Section.Name</h2>
        </div>
        <div class="card-body">
            <div class="text-center mb-4">
                <p><strong>Attempted On:</strong> @Model.AttemptedAt.ToString("yyyy-MM-dd HH:mm:ss")</p>
                <p><strong>Total Questions Attempted:</strong> @Model.UserQuizResults.Count()</p>
                <p><strong>Correct Answers:</strong> @Model.UserQuizResults.Count(r => r.IsCorrect)</p>
                @if(@Model.UserQuizResults.Count(r => r.IsCorrect) == @Model.Section.Questions.Count())
                {
                    <p class="text-success font-weight-bold">🎉 Congratulations! You got all the answers right.</p>
                }
                else
                {
                    <p class="text-danger font-weight-bold">❌ Better luck next time!</p>
                }
            </div>

            <div class="table-responsive">
                <table class="table table-striped table-bordered table-hover">
                    <thead class="thead-dark">
                        <tr>
                            <th>Question</th>
                            <th>Your Answer</th>
                            <th>Correct Answer</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var result in Model.UserQuizResults)
                        {
                            <tr>
                                <td>@result.QuestionText</td>
                                <td>@result.SelectedAnswer</td>
                                <td>@result.CorrectAnswer</td>
                                <td class="text-center">
                                    @if (result.IsCorrect)
                                    {
                                        <span class="text-success-emphasis">✔ Correct</span>
                                    }
                                    else
                                    {
                                        <span class="text-danger-emphasis">✘ Incorrect</span>
                                    }
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card-footer text-center">
            <a href="@Url.Action("Index", "Quiz")" class="btn btn-primary">Try Again</a>
            <a href="@Url.Action("UserQuizResults", "Quiz")" class="btn btn-secondary">View All Results</a>
        </div>
    </div>
</div>

